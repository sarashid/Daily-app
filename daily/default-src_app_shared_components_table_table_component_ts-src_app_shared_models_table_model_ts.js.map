{"version":3,"file":"default-src_app_shared_components_table_table_component_ts-src_app_shared_models_table_model_ts.js","mappings":"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","names":["AdjustmentService","constructor","http","getManualAdjustment","date","this","post","environment","Defines","updateManualAdjustment","list","aggregationList","i0","factory","ProfilesService","Subject","getProfilesList","manageProfile","profile","reqType","action","getProfileById","id","profileId","deleteProfile","getPrivilegesList","R","ctx_r13","ctx_r15","oxw","DialogComponent","profilesService","usersService","footprintService","Subscription","FormGroup","name","FormControl","Validators","username","ngOnInit","ngOnChanges","changes","open","openDialog","dialogConfig","profileListSubscriber","subscribe","resp","profileList","payload","profilesList","filter","item","isActive","console","log","userManagementSubscriber","getUser","user","objectIdentifier","handleOldValue","dialogForm","patchValue","view","disable","onSubmit","value","handleNewValue","updateUser","lockFlag","userId","addUser","reset","cancel","ngOnDestroy","unsubscribe","selectors","o","ctx_r17","ctx_r21","ctx_r42","ctx_r49","rowData_r23","ctx_r53","ctx_r62","ctx_r66","ctx_r78","ctx_r82","ctx_r87","TableComponent","primengConfig","router","confirmationService","headerService","validationService","manualAgjustService","transferAdjustService","footPrintService","exportExcelService","clipboardApi","ripple","viewMode","viewDetails","enableUpdate","openUserDialog","applyFilterGlobal","$event","stringVal","dt","filterGlobal","target","edit","table","showSubject","next","url","navigateByUrl","updateLockFlag","row","lck","profileSubscription","delete","event","confirm","message","icon","accept","deleteUser","data","reject","getFlag","flag","onTabInput","i","inputs","map","el","index","setTimeout","nativeElement","focus","onTabEvent","dropdownFields","focused","ChangeData","feild","type","rowIndex","epochDate","localStorage","getItem","trxInSubsValue","r","_a","trxOutSubsValue","C","_b","calculationValidations","ratePlanKey","trxInSubs","trxOutSubs","inSubs","outSubs","length","obj","find","dwhStatusKey","inAdjustFlag","inSubTransactionTypeKey","d","_c","trxTypeKey","outAdjustFlag","outSubTransactionTypeKey","B","_d","fillList","targetRow","max","numberOfSubs","manualAdjustList","undefined","trxValue","trxData","extracols","v","calculated","calculation","closing","originalData","variance","handleManualAdjusment","ratePlanObj","adjusts","adjustNotValid","rateplanNotValid","editableRowId","transferAdjustList","ratePlanGroupKey","ratePlanType","trxType","oldSubs","Math","abs","originalrow","opening","dataToCalculate","filtered","oldCalc","newCalc","calc","updateBalance","push","dateKey","dayDateKey","a","e","p","dataKey","pgGroupKey","update","submitData","refreshFlag","getvalidationList","JSON","parse","stringify","transferSubscription","updateTransferAdjustment","getTransferAdjustment","getTransferAdjustmentList","exportExcel","trxTypeName","subs","exportAsExcelFile","copyToClipboard","copiedData","selectedData","lines","join","copyFromContent","sortColumn","n","prevSortStatus","field","order","ctx","TransferAdjustmentService","addTransferAdjustmentRequests","UsersService","BehaviorSubject","usersList$","usersList","asObservable","header","label","element","fieldId","required","buttons","getUsersList","pathUrl","pipe","tap","E","users","profileName","profileModel","N","Object","ValidationService","retrieveBalance","aggregationLists","retrieveTransactionTypes","get","getMAxMinRatePlans"],"sourceRoot":"webpack:///","sources":["./src/app/manual-adjustment/services/adjustment.service.ts","./src/app/profiles/services/profiles.service.ts","./src/app/shared/components/dialog/dialog.component.html","./src/app/shared/components/dialog/dialog.component.ts","./src/app/shared/components/table/table.component.html","./src/app/shared/components/table/table.component.ts","./src/app/shared/models/table.model.ts","./src/app/transfer-adjustment/services/transfer-adjustment.service.ts","./src/app/users/services/users.service.ts","./src/app/validation/services/validation.service.ts"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { ApiResponse } from 'src/app/shared/statics/apiResponse';\r\nimport { Defines } from 'src/app/shared/statics/defines';\r\nimport { environment } from 'src/environments/environment';\r\nimport { ManualAdjustment } from '../models/manual-adjustment.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AdjustmentService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getManualAdjustment(date: number) {\r\n    let body = { date: date };\r\n    return this.http.post<ApiResponse<any>>(\r\n      environment.url +\r\n        Defines.ADJUSTMENT_ENDPOINTS.REPORT_SERVICE +\r\n        Defines.ADJUSTMENT_ENDPOINTS.MANUAL_ADJUSTMENT +\r\n        Defines.CRUD.GET_ALL,\r\n      body\r\n    );\r\n  }\r\n\r\n  updateManualAdjustment(list: ManualAdjustment[]) {\r\n    return this.http.post<ApiResponse<any>>(\r\n      environment.url +\r\n        Defines.ADJUSTMENT_ENDPOINTS.REPORT_SERVICE +\r\n        Defines.ADJUSTMENT_ENDPOINTS.MANUAL_ADJUSTMENT +\r\n        Defines.CRUD.UPDATE,\r\n      { aggregationList: list }\r\n    );\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { ApiResponse } from 'src/app/shared/statics/apiResponse';\r\nimport { Defines } from 'src/app/shared/statics/defines';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Profile } from '../models/profile.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ProfilesService {\r\n  showSubject = new Subject<boolean>();\r\n  constructor(private http: HttpClient) {}\r\n  getProfilesList() {\r\n    return this.http.post<ApiResponse<any>>(\r\n      environment.url +\r\n        Defines.USERS_ENDPOINTS.USERS_MANAGEMENT_PATH +\r\n        Defines.PROFILES_ENDPOINTS.GET_PROFILES_LIST,\r\n      {}\r\n    );\r\n  }\r\n\r\n  manageProfile(profile: Profile, reqType?: string) {\r\n    let action: string;\r\n    if (reqType === 'edit') {\r\n      action = Defines.PROFILES_ENDPOINTS.UPDATE_PROFILE;\r\n    } else {\r\n      action = Defines.PROFILES_ENDPOINTS.CREATE_PROFILE;\r\n    }\r\n    let body = { profile: profile };\r\n    return this.http.post<ApiResponse<any>>(\r\n      environment.url + Defines.USERS_ENDPOINTS.USERS_MANAGEMENT_PATH + action,\r\n      body\r\n    );\r\n  }\r\n\r\n  getProfileById(id: number) {\r\n    let body = { profileId: id };\r\n    return this.http.post(\r\n      environment.url +\r\n        Defines.USERS_ENDPOINTS.USERS_MANAGEMENT_PATH +\r\n        Defines.PROFILES_ENDPOINTS.GET_PROFILE_BY_ID,\r\n      body\r\n    );\r\n  }\r\n\r\n  deleteProfile(id: number) {\r\n    return this.http\r\n      .post(\r\n        environment.url +\r\n          Defines.USERS_ENDPOINTS.USERS_MANAGEMENT_PATH +\r\n          Defines.PROFILES_ENDPOINTS.DELETE_PROFILE,\r\n        { profileId: id }\r\n      )\r\n  }\r\n  getPrivilegesList() {\r\n    let urlPath =\r\n      environment.url +\r\n      Defines.USERS_ENDPOINTS.USERS_MANAGEMENT_PATH +\r\n      Defines.PRIVILEGES_ENDPOINTS.PRIVILEGE +\r\n      Defines.CRUD.GET_ALL;\r\n    return this.http.post<ApiResponse<any>>(urlPath, {});\r\n  }\r\n}\r\n","<p-dialog\r\n  [(visible)]=\"open\"\r\n  [closable]=\"true\"\r\n  [modal]=\"true\"\r\n  class=\"shared-dialog\"\r\n>\r\n  <ng-template pTemplate=\"header\" class=\"flex justify-content-center\">\r\n    <div>\r\n      <i class=\"{{ dialogConfig.icon }} mr-2\"></i>\r\n      <span class=\"text\">{{ dialogConfig.header }}</span>\r\n    </div>\r\n  </ng-template>\r\n  <ng-template pTemplate=\"content\">\r\n    <form\r\n    autocomplete=\"off\" \r\n      [formGroup]=\"dialogForm\"\r\n      (ngSubmit)=\"onSubmit()\"\r\n      class=\"row text dialog-enhance justify-content-center content-style\"\r\n    >\r\n      <hr />\r\n      <div class=\"row flex flex-wrap pt-2\">\r\n        <div *ngFor=\"let field of dialogConfig.inputs\" class=\"col-6 col-style\">\r\n          <br />\r\n\r\n          <span class=\"p-float-label\" *ngIf=\"field.element == 'input'\">\r\n            <input\r\n              id=\"float-input\"\r\n              style=\"width: 25vw\"\r\n              type=\"text\"\r\n              formControlName=\"{{ field.fieldId }}\"\r\n              pInputText\r\n              required=\"{{ field.required }}\"\r\n              maxlength=\"50\"\r\n            />\r\n            <label for=\"float-input\"\r\n              >{{ field.label }}\r\n              <span *ngIf=\"field.required\" class=\"required\">*</span></label\r\n            >\r\n          </span>\r\n          <span class=\"p-float-label modal\" *ngIf=\"field.element == 'dropdown'\">\r\n            <p-dropdown\r\n              [options]=\"\r\n                dialogConfig.name == 'user-management' ? profileList : []\r\n              \"\r\n              styleClass=\"tableDrop\"\r\n              id=\"float-dropdown\"\r\n              optionLabel=\"name\"\r\n              [required]=\"field.required\"\r\n              [optionValue]=\"dialogConfig.name == 'user-management' ? 'id' : ''\"\r\n              formControlName=\"{{ field.fieldId }}\"\r\n              appendTo=\"body\"\r\n              [autoDisplayFirst]=\"false\"\r\n            ></p-dropdown>\r\n            <label for=\"float-dropdown\"\r\n              >{{ field.label + \"  \"\r\n              }}<span *ngIf=\"field.required\" class=\"required\">*</span></label\r\n            >\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div\r\n        class=\"row flex justify-content-end text-center\"\r\n        *ngIf=\"!dialogConfig.view\"\r\n      >\r\n        <div class=\"flex text-center\">\r\n          <button\r\n            *ngFor=\"let button of dialogConfig.buttons\"\r\n            pButton\r\n            class=\"mb-2 mr-2 text-center\"\r\n            type=\"{{ button.type }}\"\r\n            label=\"{{ button.label }}\"\r\n            [ngClass]=\"\r\n              button.type == 'submit'\r\n                ? 'p-button-raised p-button-danger red-button'\r\n                : button.type == 'reset'\r\n                ? ' p-button-danger p-button-text white-button'\r\n                : ''\r\n            \"\r\n            (click)=\"button.type == 'reset' ? cancel() : ''\"\r\n            [disabled]=\"button.label == 'Create' && dialogForm.invalid\"\r\n          ></button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </ng-template>\r\n</p-dialog>\r\n","import {\r\n  Component,\r\n  Input,\r\n  OnChanges,\r\n  OnDestroy,\r\n  OnInit,\r\n  SimpleChanges,\r\n} from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { Subscription } from 'rxjs';\r\nimport { Profile } from 'src/app/profiles/models/profile.model';\r\nimport { ProfilesService } from 'src/app/profiles/services/profiles.service';\r\nimport { ProfileModel } from 'src/app/users/models/profile.model';\r\nimport { User } from 'src/app/users/models/user';\r\nimport { UsersService } from 'src/app/users/services/users.service';\r\n// import { DynamicDialogConfig } from 'primeng/dynamicdialog';\r\nimport { DialogData } from '../../models/dialog.model';\r\nimport { FootprintService } from '../../services/footprint-service/footprint.service';\r\n\r\n@Component({\r\n  selector: 'app-dialog',\r\n  templateUrl: './dialog.component.html',\r\n  styleUrls: ['./dialog.component.scss'],\r\n})\r\nexport class DialogComponent implements OnInit, OnChanges, OnDestroy {\r\n  @Input() dialogConfig!: DialogData;\r\n  @Input() openDialog!: boolean;\r\n  @Input() closeDialog!: boolean;\r\n  open!: boolean;\r\n  profileList!: ProfileModel[];\r\n  user!: User;\r\n  profileListSubscriber = new Subscription();\r\n  userManagementSubscriber = new Subscription();\r\n\r\n  dialogForm = new FormGroup({\r\n    name: new FormControl('', [Validators.required]),\r\n    username: new FormControl('', [Validators.required]),\r\n    profileId: new FormControl(),\r\n  });\r\n\r\n  constructor(\r\n    private profilesService: ProfilesService,\r\n    private usersService: UsersService,\r\n    private footprintService: FootprintService\r\n  ) {}\r\n\r\n  ngOnInit(): void {}\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    this.open = this.openDialog;\r\n    if (this.dialogConfig) {\r\n      if (this.dialogConfig.name == 'user-management') {\r\n        this.profileListSubscriber = this.profilesService\r\n          .getProfilesList()\r\n          .subscribe((resp) => {\r\n            this.profileList = resp.payload.profilesList.filter(\r\n              (item: Profile) => item.isActive == 1\r\n            );\r\n            console.log(this.profileList);\r\n          });\r\n      }\r\n      if (this.dialogConfig.name == 'user-management' && this.dialogConfig.id) {\r\n        console.log(this.dialogConfig.id);\r\n        this.userManagementSubscriber = this.usersService\r\n          .getUser(this.dialogConfig.id as number)\r\n          .subscribe((resp) => {\r\n            this.user = resp['payload'];\r\n            this.footprintService.objectIdentifier = this.dialogConfig.id;\r\n            let oldUser: User = {\r\n              name: this.user.name,\r\n              username: this.user.username,\r\n              profileId: this.user.profileId,\r\n            };\r\n            this.footprintService.handleOldValue(oldUser);\r\n            this.dialogForm.patchValue({\r\n              name: this.user.name,\r\n              username: this.user.username,\r\n              profileId: this.user.profileId,\r\n            });\r\n          });\r\n      }\r\n\r\n      if (this.dialogConfig.view) this.dialogForm.disable();\r\n    }\r\n  }\r\n  onSubmit() {\r\n    this.open = false;\r\n    console.log(this.dialogForm.value);\r\n    if (this.dialogConfig.name == 'user-management' && !this.dialogConfig.id) {\r\n      let user = this.dialogForm.value;\r\n      this.footprintService.handleNewValue(user);\r\n      this.usersService.addUser(user);\r\n    } else if (\r\n      this.dialogConfig.name == 'user-management' &&\r\n      this.dialogConfig.id\r\n    ) {\r\n      console.log(this.user);\r\n      let newUser: User = {\r\n        name: this.dialogForm.value.name,\r\n        username: this.dialogForm.value.username,\r\n        profileId: this.dialogForm.value.profileId,\r\n      };\r\n      this.footprintService.handleNewValue(newUser);\r\n      let user: User = {\r\n        name: this.dialogForm.value.name,\r\n        lockFlag: this.user.lockFlag,\r\n        username: this.dialogForm.value.username,\r\n        profileId: this.dialogForm.value.profileId,\r\n        userId: this.dialogConfig.id,\r\n      };\r\n      this.usersService.updateUser(user);\r\n    }\r\n    this.dialogForm.reset();\r\n  }\r\n  cancel() {\r\n    this.open = false;\r\n    this.dialogForm.reset();\r\n  }\r\n  ngOnDestroy(): void {\r\n    this.profileListSubscriber.unsubscribe();\r\n    this.userManagementSubscriber.unsubscribe();\r\n  }\r\n}\r\n","<p-table\r\n  class=\"table\"\r\n  #dt\r\n  [value]=\"table.data\"\r\n  [paginator]=\"table.pagination && table.data && table.data.length > 0\"\r\n  [rows]=\"pageSize\"\r\n  [loading]=\"loading\"\r\n  styleClass=\"p-datatable-striped\"\r\n  [globalFilterFields]=\"table.globalFilterFields\"\r\n  [rowsPerPageOptions]=\"[5, 15, 25, 50, 100]\"\r\n  [selectionMode]=\"table.name == 'transferAdjustment' ? 'multiple' : ''\"\r\n  [(selection)]=\"selectedData\"\r\n  (onSort)=\"sortColumn($event)\"\r\n>\r\n  <ng-template pTemplate=\"header\">\r\n    <tr tabIndex=\"-1\">\r\n      <th\r\n        *ngFor=\"let header of table.cols\"\r\n        pSortableColumn=\"{{ header.fieldId }}\"\r\n      >\r\n        <div class=\"p-d-flex p-jc-between p-ai-center\">\r\n          {{ header.title }}\r\n          <p-columnFilter\r\n            class=\"col-filter\"\r\n            type=\"text\"\r\n            field=\"{{ header.fieldId }}\"\r\n            display=\"menu\"\r\n          ></p-columnFilter>\r\n          <p-sortIcon field=\"{{ header.fieldId }}\"></p-sortIcon>\r\n        </div>\r\n      </th>\r\n      <th>\r\n        <div class=\"mt-2\"><span class=\"break\">|</span></div>\r\n      </th>\r\n      <th *ngFor=\"let header of table.extracols\">\r\n        <div\r\n          *ngIf=\"header.title !== 'search' && header.show\"\r\n          class=\"p-d-flex p-jc-between p-ai-center\"\r\n        >\r\n          <span\r\n            (click)=\"header.title == 'Export as Excel' ? exportExcel() : ''\"\r\n            [ngClass]=\"header.title == 'Export as Excel' ? 'export' : ''\"\r\n          >\r\n            <i\r\n              *ngIf=\"header.title == 'Export as Excel'\"\r\n              class=\"pi pi-file-excel\"\r\n              (click)=\"exportExcel()\"\r\n            ></i>\r\n            {{ header.title }}\r\n          </span>\r\n          <span\r\n            class=\"copy\"\r\n            (click)=\"copyToClipboard()\"\r\n            *ngIf=\"table.name == 'transferAdjustment'\"\r\n          >\r\n            <i class=\"pi pi-clone\"></i>\r\n            Copy\r\n          </span>\r\n        </div>\r\n        <div\r\n          *ngIf=\"header.title == 'search' && header.show\"\r\n          [ngClass]=\"table.name == 'transferAdjustment' ? 'align-end' : ''\"\r\n        >\r\n          <div class=\"p-d-flex p-jc-between p-ai-center search-style\">\r\n            <span class=\"p-input-icon-left p-ml-auto\">\r\n              <i class=\"pi pi-search pr-5\"></i>\r\n              <input\r\n                (input)=\"applyFilterGlobal($event, 'contains')\"\r\n                pInputText\r\n                class=\"search-input\"\r\n                type=\"text\"\r\n                placeholder=\"Search...\"\r\n                maxlength=\"50\"\r\n              />\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </th>\r\n    </tr>\r\n  </ng-template>\r\n\r\n  <ng-template pTemplate=\"body\" let-rowData let-data let-rowIndex=\"rowIndex\">\r\n    <tr\r\n      tabIndex=\"-1\"\r\n      [pSelectableRow]=\"data\"\r\n      [pSelectableRowIndex]=\"rowIndex\"\r\n      [ngClass]=\"table.name !== 'transferAdjustment' ? 'unselectable' : ''\"\r\n    >\r\n      <td\r\n        *ngFor=\"let col of table.cols\"\r\n        [ngClass]=\"{ 'locked-row': rowData?.lockFlag }\"\r\n      >\r\n        <div\r\n          class=\"{{ col.classStyle }}\"\r\n          [ngClass]=\"\r\n            (table.name == 'validation' || table.name == 'manualAdjustment') &&\r\n            rowData[col.fieldId] == 0\r\n              ? 'grayBG'\r\n              : ''\r\n          \"\r\n        >\r\n          <span>{{\r\n            rowData[col.fieldId]?.name\r\n              ? rowData[col.fieldId].name\r\n              : rowData[col.fieldId]\r\n          }}</span>\r\n        </div>\r\n      </td>\r\n      <div class=\"mt-3\"><span class=\"break pl-3\">|</span></div>\r\n      <td\r\n        *ngFor=\"let col of table.extracols\"\r\n        [ngClass]=\"\r\n          table.name == 'manualAdjustment' || table.name == 'transferAdjustment'\r\n            ? 'position'\r\n            : ''\r\n        \"\r\n      >\r\n        <div class=\"lockWidth flex\" *ngIf=\"col.fieldId == 'lockFlag'\">\r\n          <div class=\"flex lock-span\">\r\n            <i\r\n              class=\"pr-2\"\r\n              [ngClass]=\"{\r\n                'icon-unlock': !rowData.lockFlag,\r\n                'icon-lock-open': rowData.lockFlag\r\n              }\"\r\n            ></i\r\n            ><span class=\"pr-2\" *ngIf=\"table.name == 'users'\"\r\n              >{{ rowData.lockFlag ? unlockUser + \"User\" : lockUser + \"User\" }}\r\n            </span>\r\n            <span class=\"pr-2\" *ngIf=\"table.name == 'profiles'\"\r\n              >{{ rowData.isActive ? \"Active\" : \"Not active\" }}\r\n            </span>\r\n          </div>\r\n          {{\r\n            table.name == \"profiles\"\r\n              ? getFlag(rowData.isActive)\r\n              : getFlag(rowData.lockFlag)\r\n          }}\r\n          <p-inputSwitch\r\n            [(ngModel)]=\"lck\"\r\n            [disabled]=\"!enableUpdate\"\r\n            (onChange)=\"updateLockFlag(rowData)\"\r\n          ></p-inputSwitch>\r\n        </div>\r\n        <div\r\n          *ngIf=\"\r\n            table.editFlag && table.deleteFlag && col.fieldId !== 'lockFlag'\r\n          \"\r\n          class=\"flex justify-content-center\"\r\n        >\r\n          <button\r\n            *ngIf=\"enableUpdate || viewDetails\"\r\n            pButton\r\n            type=\"button\"\r\n            class=\"edit-button mr-3\"\r\n            [disabled]=\"rowData.lockFlag\"\r\n            iconPos=\"left\"\r\n            (click)=\"edit(table.name == 'users' ? rowData.userId : rowData.id)\"\r\n          >\r\n            <span *ngIf=\"enableUpdate\"> <i class=\"icon-edit\"></i> Edit </span>\r\n            <span *ngIf=\"viewDetails && !enableUpdate\">\r\n              <i class=\"icon-eye\"></i> View Details\r\n            </span>\r\n          </button>\r\n\r\n          <button\r\n            *ngIf=\"table.deleteFlag && enableDelete\"\r\n            pButton\r\n            type=\"button\"\r\n            class=\"delete-button\"\r\n            [disabled]=\"rowData.lockFlag\"\r\n            iconPos=\"left\"\r\n            (click)=\"\r\n              delete(\r\n                $event,\r\n                table.name == 'users' ? rowData.userId : rowData.id\r\n              )\r\n            \"\r\n          >\r\n            <i class=\"pi pi-trash\"></i> Delete\r\n          </button>\r\n        </div>\r\n        <div [ngClass]=\"table.name == 'transferAdjustment' ? 'align-end' : ''\">\r\n          <span *ngIf=\"col.fieldTitle\"\r\n            >{{ col.fieldTitle }} {{ rowData[col.fieldId] }}</span\r\n          >\r\n          <div *ngIf=\"col.type == 'input'\">\r\n            <span\r\n              class=\"p-float-label\"\r\n              [ngClass]=\"table.name == 'transferAdjustment' ? 'margin-b' : ''\"\r\n            >\r\n              <input\r\n                #input\r\n                style=\"width: 16vw\"\r\n                type=\"{{ col.inputType }}\"\r\n                pInputText\r\n                [value]=\"\r\n                  table.name == 'manualAdjustment' ? rowData.numberOfSubs : null\r\n                \"\r\n                maxlength=\"50\"\r\n                max=\"3000\"\r\n                [ngClass]=\"{ err: max }\"\r\n                (input)=\"\r\n                  ChangeData(input, col.fieldId, col.type, rowData, rowIndex)\r\n                \"\r\n                [tabIndex]=\"table.name == 'manualAdjustment' ? -1 : 0\"\r\n                (keydown.Tab)=\"onTabInput(rowIndex)\"\r\n                />\r\n              <label>{{ col.label }} </label>\r\n            </span>\r\n            <span\r\n              class=\"error\"\r\n              [ngClass]=\"table.name == 'manualAdjustment' ? 'err-subs' : ''\"\r\n              *ngIf=\"max && targetRow == data.ratePlanKey\"\r\n            >\r\n              Out Of limit: Max Number of Subs is 3000\r\n            </span>\r\n            <span\r\n              class=\"error\"\r\n              *ngIf=\"adjustNotValid && editableRowId === rowIndex\"\r\n            >\r\n              *Required value\r\n            </span>\r\n          </div>\r\n\r\n          <div class=\"drp\" *ngIf=\"col.type == 'dropdown'\">\r\n            <div\r\n              [ngClass]=\"table.name == 'transferAdjustment' ? 'margin-b' : ''\"\r\n            >\r\n              <p-dropdown\r\n                #dropdownField\r\n                [options]=\"col.data\"\r\n                styleClass=\"tableDropX\"\r\n                optionLabel=\"{{ col.optionLabel }}\"\r\n                placeholder=\"{{ col.placeholder }} \"\r\n                [showClear]=\"true\"\r\n                (onChange)=\"\r\n                  ChangeData($event, col.fieldId, col.type, rowData, rowIndex)\r\n                \"\r\n                [disabled]=\"\r\n                  (table.name == 'manualAdjustment' &&\r\n                    (!rowData.numberOfSubs || rowData.numberOfSubs == 0)) ||\r\n                  (table.name == 'validation' && rowData[col.fieldId] == 0)\r\n                \"\r\n                (keydown.Tab)=\"onTabEvent(dropdownField,rowIndex)\"\r\n              >\r\n                <ng-template\r\n                  *ngIf=\"\r\n                    table.name == 'validation' ||\r\n                    table.name == 'manualAdjustment'\r\n                  \"\r\n                  let-option\r\n                  pTemplate=\"item\"\r\n                >\r\n                  <div>\r\n                    <i *ngIf=\"option.value == 1\" class=\"pi pi-arrow-up\"></i>\r\n                    <i *ngIf=\"option.value == -1\" class=\"pi pi-arrow-down\"></i>\r\n                    <i *ngIf=\"option.value == 0\" class=\"pi pi-minus\"></i>\r\n                    <span>{{ option.trxTypeName }} </span>\r\n                  </div>\r\n                </ng-template>\r\n              </p-dropdown>\r\n            </div>\r\n            <span\r\n              class=\"error error-left\"\r\n              *ngIf=\"rateplanNotValid && editableRowId === rowIndex\"\r\n            >\r\n              *Required value\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  </ng-template>\r\n  <ng-template pTemplate=\"emptymessage\">\r\n    <tr tabIndex=\"-1\">\r\n      <td colspan=\"7\" style=\"text-align: center\">No Data found.</td>\r\n    </tr>\r\n  </ng-template>\r\n  <ng-template pTemplate=\"paginatorright\">\r\n    <button\r\n      *ngIf=\"table.hasSubmit && enableUpdatePatch\"\r\n      pButton\r\n      class=\"btn btn-basic\"\r\n      type=\"submit\"\r\n      label=\"Submit\"\r\n      (click)=\"update()\"\r\n      [disabled]=\"\r\n        max ||\r\n        (table.name == 'manualAdjustment' && manualAdjustList.length == 0) ||\r\n        (table.name == 'validation' && aggregationList.length == 0) ||\r\n        (table.name == 'transferAdjustment' &&\r\n          (transferAdjustList.length == 0 || rateplanNotValid || adjustNotValid))\r\n      \"\r\n    ></button>\r\n  </ng-template>\r\n</p-table>\r\n\r\n<app-dialog\r\n  [dialogConfig]=\"dialogConfig\"\r\n  [openDialog]=\"openDialog\"\r\n  [closeDialog]=\"!openDialog\"\r\n>\r\n</app-dialog>\r\n<p-confirmDialog\r\n  class=\"confirm-dialog\"\r\n  header=\"Confirmation\"\r\n  icon=\"pi pi-exclamation-triangle\"\r\n></p-confirmDialog>\r\n","import {\r\n  Component,\r\n  ElementRef,\r\n  HostListener,\r\n  Injectable,\r\n  Input,\r\n  OnDestroy,\r\n  OnInit,\r\n  QueryList,\r\n  ViewChild,\r\n  ViewChildren,\r\n} from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport {\r\n  ConfirmationService,\r\n  Header,\r\n  PrimeNGConfig,\r\n  SortEvent,\r\n} from 'primeng/api';\r\nimport { TableModel } from '../../models/table.model';\r\nimport { Table } from 'primeng/table';\r\nimport { UsersService } from 'src/app/users/services/users.service';\r\nimport { DialogData } from '../../models/dialog.model';\r\nimport { ProfilesService } from 'src/app/profiles/services/profiles.service';\r\nimport { Profile } from 'src/app/profiles/models/profile.model';\r\nimport { Subscription } from 'rxjs';\r\nimport { AggregationData } from 'src/app/validation/models/aggregation-data.model';\r\nimport { HeaderService } from 'src/app/core/services/header-service/header.service';\r\nimport { ValidationService } from 'src/app/validation/services/validation.service';\r\nimport { ManualAdjustment } from 'src/app/manual-adjustment/models/manual-adjustment.model';\r\nimport { AdjustmentService } from 'src/app/manual-adjustment/services/adjustment.service';\r\nimport { Transfer } from 'src/app/transfer-adjustment/models/transferAdjus.model';\r\nimport { TransferAdjustmentService } from 'src/app/transfer-adjustment/services/transfer-adjustment.service';\r\nimport { FootprintService } from '../../services/footprint-service/footprint.service';\r\nimport { ExportExcelService } from '../../services/exportExcel-service/export-excel.service';\r\nimport { User } from 'src/app/users/models/user';\r\nimport { ClipboardService } from 'ngx-clipboard';\r\nimport { Calc } from 'src/app/validation/models/calculation.model';\r\n\r\nexport enum KEY_CODE {\r\n  UP_ARROW = 38,\r\n  DOWN_ARROW = 40,\r\n  RIGHT_ARROW = 39,\r\n  LEFT_ARROW = 37,\r\n  TAB_KEY = 9,\r\n}\r\n@Component({\r\n  selector: 'app-table',\r\n  templateUrl: './table.component.html',\r\n  styleUrls: ['./table.component.scss'],\r\n})\r\n@Injectable()\r\nexport class TableComponent implements OnInit, OnDestroy {\r\n  @Input() table!: TableModel;\r\n  @ViewChild('dt') dt: Table | undefined;\r\n  @Input() globalFilterFields!: string[];\r\n  @Input('enableUpdate') enableUpdate!: boolean;\r\n  @Input('enableUpdatePatch') enableUpdatePatch!: boolean;\r\n  @Input('enableDelete') enableDelete!: boolean;\r\n  @Input('viewDetails') viewDetails!: boolean;\r\n  @Input('originalData') originalData!: any[];\r\n  @ViewChildren('input') inputs!: QueryList<ElementRef>;\r\n  @ViewChildren('dropdownField') dropdownFields!: QueryList<ElementRef>;\r\n  loading: boolean = false;\r\n  pageSize: number = 100;\r\n  lockUser: string = 'Lock the ';\r\n  unlockUser: string = 'Unlock the ';\r\n  openDialog!: boolean;\r\n  lck!: any;\r\n  dialogConfig!: DialogData;\r\n  profileSubscription!: Subscription;\r\n  aggregationList: AggregationData[] = [];\r\n  manualAdjustList: ManualAdjustment[] = [];\r\n  transferAdjustList: Transfer[] = [];\r\n  epochDate!: any;\r\n  max!: boolean;\r\n  targetRow!: number;\r\n  transferSubscription!: Subscription;\r\n  adjustNotValid!: boolean;\r\n  rateplanNotValid!: boolean;\r\n  editableRowId!: number;\r\n  viewMode!: boolean;\r\n  selectedData: any;\r\n  prevSortStatus!: SortEvent | undefined; // to reset sort after third click\r\n  constructor(\r\n    private primengConfig: PrimeNGConfig,\r\n    private usersService: UsersService,\r\n    private profilesService: ProfilesService,\r\n    private router: Router,\r\n    private confirmationService: ConfirmationService,\r\n    private headerService: HeaderService,\r\n    private validationService: ValidationService,\r\n    private manualAgjustService: AdjustmentService,\r\n    private transferAdjustService: TransferAdjustmentService,\r\n    private footPrintService: FootprintService,\r\n    private exportExcelService: ExportExcelService,\r\n    private clipboardApi: ClipboardService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.primengConfig.ripple = true;\r\n    this.viewMode = this.viewDetails && !this.enableUpdate ? true : false;\r\n  }\r\n  openUserDialog(id?: number) {\r\n    this.usersService.openUserDialog(id, this.viewMode);\r\n    this.openDialog = this.usersService.openDialog;\r\n    this.dialogConfig = this.usersService.dialogConfig;\r\n  }\r\n  applyFilterGlobal($event: any, stringVal: any) {\r\n    this.dt!.filterGlobal(($event.target as HTMLInputElement).value, stringVal);\r\n  }\r\n  edit(id: number) {\r\n    if (this.table.name === 'users') {\r\n      this.openUserDialog(id);\r\n    } else if (this.table.name === 'profiles') {\r\n      this.profilesService.showSubject.next(false);\r\n      let url = this.viewMode ? 'daily/profiles/view/' : 'daily/profiles/edit/';\r\n      url = url + id;\r\n      this.router.navigateByUrl(url);\r\n    }\r\n  }\r\n  updateLockFlag(row: any) {\r\n    if (this.table.name == 'users') {\r\n      this.footPrintService.objectIdentifier = row.id;\r\n      let oldUser: User = {\r\n        lockFlag: this.lck == true ? 0 : 1,\r\n      };\r\n      this.footPrintService.handleOldValue(oldUser);\r\n      let newUser: User = {\r\n        lockFlag: this.lck == true ? 1 : 0,\r\n      };\r\n      this.footPrintService.handleNewValue(newUser);\r\n      this.usersService.updateUser({\r\n        name: row.name,\r\n        userId: row.userId,\r\n        username: row.username,\r\n        lockFlag: this.lck == true ? 1 : 0,\r\n        profileId: row.profileId,\r\n      });\r\n      this.lck = null;\r\n    } else if (this.table.name == 'profiles') {\r\n      let profile: Profile = row;\r\n      profile.isActive = this.lck == true ? 1 : 0;\r\n      this.footPrintService.objectIdentifier = row.id;\r\n      let oldProfile: Profile = {\r\n        isActive: this.lck == true ? 0 : 1,\r\n      };\r\n      this.footPrintService.handleOldValue(oldProfile);\r\n      let newProfile: Profile = {\r\n        isActive: this.lck == true ? 1 : 0,\r\n      };\r\n      this.footPrintService.handleNewValue(newProfile);\r\n      this.profileSubscription = this.profilesService\r\n        .manageProfile(profile, 'edit')\r\n        .subscribe((resp) => {});\r\n    }\r\n  }\r\n  delete(event: any, id: number) {\r\n    this.confirmationService.confirm({\r\n      target: event.target,\r\n      message:\r\n        this.table.name === 'users'\r\n          ? 'Are you sure that you want to delete this user ?'\r\n          : 'Are you sure that you want to delete this profile ?',\r\n      icon: 'pi pi-exclamation-triangle',\r\n      accept: () => {\r\n        //confirm action\r\n        this.footPrintService.objectIdentifier = id;\r\n        if (this.table.name === 'users') {\r\n          this.usersService.deleteUser(id);\r\n        }\r\n        if (this.table.name === 'profiles') {\r\n          this.profilesService.deleteProfile(id).subscribe((resp) => {\r\n            this.profilesService.getProfilesList().subscribe((resp) => {\r\n              this.table.data = resp['payload']['profilesList'];\r\n            });\r\n          });\r\n        }\r\n      },\r\n      reject: () => {\r\n        //reject action\r\n      },\r\n    });\r\n  }\r\n  getFlag(flag: any) {\r\n    if (flag == 1) {\r\n      this.lck = true;\r\n    } else {\r\n      this.lck = false;\r\n    }\r\n  }\r\n  onTabInput(i: any) {\r\n    console.log('e', i, this.inputs);\r\n    // if(this.table.name  == 'manualAdjustment' || this.table.name == 'transferAdjustment'){\r\n    this.inputs.map((el: any, index: number) => {\r\n      if (i + 1 === index) {\r\n        setTimeout(() => {\r\n          el.nativeElement.focus();\r\n        });\r\n      }\r\n    });\r\n    // }\r\n  }\r\n  onTabEvent(event: any, i: number) {\r\n    console.log('e', i, this.dropdownFields);\r\n    if (\r\n      this.table.name == 'manualAdjustment' ||\r\n      this.table.name == 'transferAdjustment'\r\n    ) {\r\n      this.dropdownFields.map((el: any, index: number) => {\r\n        if (i + 1 === index) {\r\n          setTimeout(() => {\r\n            el.focus();\r\n          });\r\n        }\r\n      });\r\n    }\r\n    if (this.table.name == 'validation') {\r\n      let focused: boolean = false;\r\n      this.dropdownFields.map((el: any, index: number) => {\r\n        if (event.id === el.id) {\r\n          focused = true;\r\n          return;\r\n        }\r\n        if (focused) {\r\n          setTimeout(() => {\r\n            el.focus();\r\n          });\r\n          focused = false;\r\n        }\r\n      });\r\n    }\r\n  }\r\n  ChangeData(\r\n    event: any,\r\n    feild: string,\r\n    type: string,\r\n    data: any,\r\n    rowIndex: number\r\n  ) {\r\n    console.log('event', event.value);\r\n    this.epochDate = localStorage.getItem('date');\r\n    if (this.table.name == 'validation') {\r\n      if (feild == 'inSubs') {\r\n        data.trxInSubsValue = +event.value?.value;\r\n      } else if (feild == 'outSubs') {\r\n        data.trxOutSubsValue = +event.value?.value;\r\n      }\r\n      let dataToCalculate: Calc = {\r\n        trxInSubs: data.trxInSubsValue ? +data.trxInSubsValue : 0,\r\n        trxOutSubs: data.trxOutSubsValue ? +data.trxOutSubsValue : 0,\r\n        inSubs: +data['inSubs'],\r\n        outSubs: +data['outSubs'],\r\n      };\r\n      this.calculationValidations(data.ratePlanKey, dataToCalculate);\r\n      if (this.aggregationList.length) {\r\n        let obj = this.aggregationList.find((item) => {\r\n          return (\r\n            item.ratePlanKey === data.ratePlanKey &&\r\n            data.dwhStatusKey === item.dwhStatusKey\r\n          );\r\n        });\r\n        if (obj) {\r\n          if (feild == 'inSubs') {\r\n            obj.inAdjustFlag = event.value !== null ? 1 : 0;\r\n            obj.inSubTransactionTypeKey = event.value?.trxTypeKey;\r\n          }\r\n          if (feild == 'outSubs') {\r\n            obj.outAdjustFlag = event.value !== null ? 1 : 0;\r\n            obj.outSubTransactionTypeKey = event.value?.trxTypeKey;\r\n          }\r\n        } else {\r\n          this.fillList(event, data, feild);\r\n        }\r\n      } else {\r\n        this.fillList(event, data, feild);\r\n      }\r\n    }\r\n    if (this.table.name == 'manualAdjustment') {\r\n      this.targetRow = data.ratePlanKey;\r\n      type == 'input' && event.value > 3000\r\n        ? (this.max = true)\r\n        : (this.max = false);\r\n      if (type === 'input') data.numberOfSubs = event.value;\r\n      if (this.manualAdjustList.length) {\r\n        let obj = this.manualAdjustList.find((item) => {\r\n          return item.ratePlanKey == data.ratePlanKey;\r\n        });\r\n        if (obj) {\r\n          type == 'dropdown'\r\n            ? (obj.trxTypeKey =\r\n                event.value == null ? 0 : +event.value.trxTypeKey)\r\n            : '';\r\n          type == 'input'\r\n            ? (obj.numberOfSubs = +event.value == undefined ? 0 : +event.value)\r\n            : '';\r\n          if (obj.trxTypeKey && obj.numberOfSubs) {\r\n            let trxData = this.table.extracols[0].data;\r\n            let trxValue = trxData.find(\r\n              (item: any) => item.trxTypeKey == obj?.trxTypeKey\r\n            );\r\n            data.calculated = true;\r\n            this.calculation(\r\n              data.ratePlanKey,\r\n              +trxValue.value,\r\n              +obj.numberOfSubs\r\n            );\r\n          } else {\r\n            this.table.data[rowIndex].closing =\r\n              this.originalData[rowIndex].closing;\r\n            this.table.data[rowIndex].variance =\r\n              this.originalData[rowIndex].variance;\r\n          }\r\n        } else {\r\n          this.fillList(event, data);\r\n          this.handleManualAdjusment(event, feild, type, data, rowIndex);\r\n        }\r\n      } else {\r\n        this.fillList(event, data);\r\n        this.handleManualAdjusment(event, feild, type, data, rowIndex);\r\n      }\r\n    }\r\n    if (this.table.name == 'transferAdjustment') {\r\n      type == 'dropdown' ? (data.ratePlanObj = event.value) : '';\r\n      type == 'input' ? (data.adjusts = +event.value) : '';\r\n      this.adjustNotValid = data.ratePlanObj && !data.adjusts ? true : false;\r\n      this.rateplanNotValid = !data.ratePlanObj && data.adjusts ? true : false;\r\n      this.editableRowId = rowIndex;\r\n      let obj = this.transferAdjustList.find(item=>item.trxTypeKey == data.trxTypeKey);\r\n      if (this.transferAdjustList.length) {\r\n        if(obj){\r\n        this.transferAdjustList.map((item, i) => {\r\n          if (item.trxTypeKey == data.trxTypeKey) {\r\n            item.numberOfSubs = data.adjusts ? data.adjusts : 0;\r\n            item.ratePlanKey = data.ratePlanObj\r\n              ? data.ratePlanObj.ratePlanKey\r\n              : 0;\r\n            item.ratePlanGroupKey = data.ratePlanObj\r\n              ? data.ratePlanObj.ratePlanGroupKey\r\n              : 0;\r\n            item.ratePlanType = data.ratePlanObj\r\n              ? data.ratePlanObj.ratePlanType\r\n              : 0;\r\n          }\r\n        });\r\n      } else this.fillList(event,data)\r\n      } else this.fillList(event,data)\r\n    }\r\n  }\r\n  handleManualAdjusment(\r\n    event: any,\r\n    feild: string,\r\n    type: string,\r\n    data: any,\r\n    rowIndex: number\r\n  ) {\r\n    let obj = this.manualAdjustList.find((item) => {\r\n      return item.ratePlanKey == data.ratePlanKey;\r\n    });\r\n    if (obj) {\r\n      type == 'dropdown'\r\n        ? (obj.trxTypeKey = event.value == null ? 0 : +event.value.trxTypeKey)\r\n        : '';\r\n      type == 'input'\r\n        ? (obj.numberOfSubs = +event.value == undefined ? 0 : +event.value)\r\n        : '';\r\n      if (obj.trxTypeKey && obj.numberOfSubs) {\r\n        let trxData = this.table.extracols[0].data;\r\n        let trxValue = trxData.find(\r\n          (item: any) => item.trxTypeKey == obj?.trxTypeKey\r\n        );\r\n        data.calculated = true;\r\n        this.calculation(data.ratePlanKey, +trxValue.value, +obj.numberOfSubs);\r\n      } else {\r\n        this.table.data[rowIndex].closing = this.originalData[rowIndex].closing;\r\n        this.table.data[rowIndex].variance =\r\n          this.originalData[rowIndex].variance;\r\n      }\r\n    }\r\n  }\r\n\r\n  calculation(ratePlanKey: number, trxType: number, oldSubs: number) {\r\n    console.log(\r\n      'ratePlanKey:',\r\n      ratePlanKey,\r\n      'trxType:',\r\n      trxType,\r\n      'oldSubs',\r\n      oldSubs,\r\n      'Math.abs(oldSubs)',\r\n      Math.abs(oldSubs)\r\n    );\r\n    let originalrow = this.originalData.find(\r\n      (item) => item.ratePlanKey == ratePlanKey\r\n    );\r\n    let closing = +originalrow.closing;\r\n    this.table.data.map((item: any) => {\r\n      if (item.ratePlanKey == ratePlanKey) {\r\n        item.closing = closing + oldSubs;\r\n        item.variance = item.closing - item.opening;\r\n      }\r\n    });\r\n  }\r\n\r\n  calculationValidations(ratePlanKey: number, dataToCalculate: Calc) {\r\n    const filtered = this.table.data.filter(\r\n      (item) => item.ratePlanKey === ratePlanKey\r\n    );\r\n    let originalrow = this.originalData.find(\r\n      (item) => item.ratePlanKey == ratePlanKey\r\n    );\r\n    let closing = +originalrow.closing;\r\n    if (filtered.length > 1) {\r\n      let oldCalc = 0;\r\n      let newCalc = 0;\r\n      this.table.data.map((item: any, i: number) => {\r\n        let inSubs =\r\n          item.trxInSubsValue && item.inSubs\r\n            ? item.trxInSubsValue * Math.abs(item.inSubs)\r\n            : 0;\r\n        let outSubs =\r\n          item.trxOutSubsValue && item.outSubs\r\n            ? item.trxOutSubsValue * Math.abs(item.outSubs)\r\n            : 0;\r\n        if (item.ratePlanKey == ratePlanKey) {\r\n          oldCalc = item.calc ? oldCalc + item.calc : oldCalc;\r\n          item.calc = inSubs + outSubs;\r\n          newCalc = newCalc + item.calc;\r\n        }\r\n        if (this.table.data.length - 1 === i)\r\n          this.validationService.updateBalance.next({\r\n            oldCalc: oldCalc,\r\n            newCalc: newCalc,\r\n          });\r\n      });\r\n      this.table.data.map((item) => {\r\n        if (item.ratePlanKey == ratePlanKey) {\r\n          item.closing = closing + newCalc;\r\n          item.variance = item.closing - item.opening;\r\n        }\r\n      });\r\n    } else {\r\n      let inSubs =\r\n        dataToCalculate.trxInSubs && dataToCalculate.inSubs\r\n          ? dataToCalculate.trxInSubs * Math.abs(dataToCalculate.inSubs)\r\n          : 0;\r\n      let outSubs =\r\n        dataToCalculate.trxOutSubs && dataToCalculate.outSubs\r\n          ? dataToCalculate.trxOutSubs * Math.abs(dataToCalculate.outSubs)\r\n          : 0;\r\n      this.table.data.map((item: any) => {\r\n        if (item.ratePlanKey == ratePlanKey) {\r\n          let oldCalc = item.calc ? item.calc : 0;\r\n          item.closing = closing + inSubs + outSubs;\r\n          item.variance = item.closing - item.opening;\r\n          if (!inSubs && !outSubs) {\r\n            item.closing = originalrow.closing;\r\n            item.variance = originalrow.variance;\r\n          }\r\n          item.calc = inSubs + outSubs;\r\n          this.validationService.updateBalance.next({\r\n            oldCalc: oldCalc,\r\n            newCalc: item.calc,\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  fillList(event: any, data: any, feild?: string) {\r\n    if (this.table.name == 'manualAdjustment') {\r\n      this.manualAdjustList.push({\r\n        dateKey: data.dateKey,\r\n        dwhStatusKey: 200,\r\n        numberOfSubs: data.numberOfSubs == undefined ? 0 : data.numberOfSubs,\r\n        trxTypeKey: event.value.trxTypeKey ? +event.value.trxTypeKey : 0,\r\n        ratePlanKey: data.ratePlanKey,\r\n        ratePlanGroupKey: data.ratePlanGroupKey,\r\n        ratePlanType: data.ratePlanType,\r\n      });\r\n      console.log(this.manualAdjustList)\r\n    } else if (this.table.name == 'validation') {\r\n      this.aggregationList.push({\r\n        dateKey: this.epochDate,\r\n        inAdjustFlag: feild == 'inSubs' && event.value !== null ? 1 : 0,\r\n        outAdjustFlag: feild == 'outSubs' && event.value !== null ? 1 : 0,\r\n        ratePlanKey: data.ratePlanKey,\r\n        dwhStatusKey: data.dwhStatusKey,\r\n        dayDateKey: data.dateKey,\r\n        inSubTransactionTypeKey:\r\n          feild == 'inSubs' ? event?.value?.trxTypeKey : '',\r\n        outSubTransactionTypeKey:\r\n          feild == 'outSubs' ? event?.value?.trxTypeKey : '',\r\n      });\r\n    } else if (this.table.name == 'transferAdjustment') {\r\n      this.transferAdjustList.push({\r\n        numberOfSubs: data.adjusts ? data.adjusts : 0, // Adjusts\r\n        dataKey: +data.dateKey,\r\n        ratePlanKey: data.ratePlanObj ? data.ratePlanObj.ratePlanKey : 0,\r\n        ratePlanGroupKey: data.ratePlanObj\r\n          ? data.ratePlanObj.ratePlanGroupKey\r\n          : 0,\r\n        trxTypeKey: +data.trxTypeKey,\r\n        dwhStatusKey: 1,\r\n        pgGroupKey: 1,\r\n        ratePlanType: data.ratePlanObj ? data.ratePlanObj.ratePlanType : 0,\r\n      });\r\n    }\r\n  }\r\n  update() {\r\n    if (this.table.name == 'validation') {\r\n      this.footPrintService.handleNewValue(this.aggregationList, 'ratePlanKey');\r\n      console.log('aggregationList', this.aggregationList);\r\n      this.validationService\r\n        .submitData(this.aggregationList)\r\n        .subscribe((resp) => {\r\n          this.aggregationList = [];\r\n          this.footPrintService.refreshFlag = true;\r\n          this.validationService\r\n            .getvalidationList(this.epochDate)\r\n            .subscribe((resp) => {\r\n              this.table.data = resp['payload']['list'];\r\n              this.originalData = JSON.parse(\r\n                JSON.stringify(resp['payload']['list'])\r\n              );\r\n            });\r\n        });\r\n    }\r\n    if (this.table.name == 'manualAdjustment') {\r\n      this.footPrintService.handleNewValue(\r\n        this.manualAdjustList,\r\n        'ratePlanKey'\r\n      );\r\n      // this.manualAdjustList.map((item:any)=>  item.numberOfSubs=Math.abs(item.numberOfSubs))\r\n      this.manualAgjustService\r\n        .updateManualAdjustment(this.manualAdjustList)\r\n        .subscribe((resp) => {\r\n          this.manualAdjustList = [];\r\n          this.footPrintService.refreshFlag = true;\r\n\r\n          this.manualAgjustService\r\n            .getManualAdjustment(this.epochDate)\r\n            .subscribe((resp) => {\r\n              this.table.data = resp['payload'];\r\n              this.table.data?.map((item) => {\r\n                item.numberOfSubs = -item.variance;\r\n              });\r\n              this.originalData = JSON.parse(JSON.stringify(this.table.data));\r\n            });\r\n        });\r\n    }\r\n    if (this.table.name == 'transferAdjustment') {\r\n      this.footPrintService.handleNewValue(\r\n        this.transferAdjustList,\r\n        'trxTypeKey'\r\n      );\r\n      this.transferSubscription = this.transferAdjustService\r\n        .updateTransferAdjustment(this.transferAdjustList)\r\n        .subscribe((resp) => {\r\n          this.transferAdjustList = [];\r\n          this.footPrintService.refreshFlag = true;\r\n\r\n          this.transferAdjustService\r\n            .getTransferAdjustment(this.epochDate)\r\n            .subscribe(\r\n              (resp) =>\r\n                (this.table.data = resp['payload']['getTransferAdjustmentList'])\r\n            );\r\n        });\r\n    }\r\n  }\r\n\r\n  exportExcel() {\r\n    let data;\r\n    if (this.table.name == 'transferAdjustment') {\r\n      data = this.table.data.map((item: any) => {\r\n        return { trxTypeName: item.trxTypeName, subs: item.subs };\r\n      });\r\n    } else data = this.table.data;\r\n    this.exportExcelService.exportAsExcelFile(data, 'report');\r\n  }\r\n\r\n  copyToClipboard() {\r\n    let copiedData = this.selectedData.map((item: any) => {\r\n      item = [item.trxTypeName, item.subs];\r\n      console.log(item);\r\n      return item;\r\n    });\r\n    copiedData = copiedData.map((lines: any) => lines.join('\\t')).join('\\n');\r\n    this.clipboardApi.copyFromContent(copiedData);\r\n  }\r\n\r\n  sortColumn(event: SortEvent) {\r\n    // to reset sort after third click\r\n    console.log('sort', event);\r\n    console.log('sort', this.table.data);\r\n    if (\r\n      this.prevSortStatus?.field == event.field &&\r\n      this.prevSortStatus?.order == -1\r\n    ) {\r\n      this.dt?.reset();\r\n    }\r\n    if (event.order == -1) this.prevSortStatus = event;\r\n    else this.prevSortStatus = undefined;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.profileSubscription?.unsubscribe();\r\n    this.transferSubscription?.unsubscribe();\r\n  }\r\n}","export class TableModel {\r\n  cols!: Array<any>;\r\n  data!: Array<any>;\r\n  extracols!: Array<any>;\r\n  pagination!: boolean;\r\n  lockFlag!: boolean;\r\n  editFlag!: boolean;\r\n  deleteFlag!: boolean;\r\n  name!: String;\r\n  hasSubmit!: boolean;\r\n  globalFilterFields!: string[];\r\n}\r\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { ApiResponse } from 'src/app/shared/statics/apiResponse';\nimport { Defines } from 'src/app/shared/statics/defines';\nimport { environment } from 'src/environments/environment';\nimport { Transfer } from '../models/transferAdjus.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class TransferAdjustmentService {\n  constructor(private http: HttpClient) {}\n\n  getTransferAdjustment(date: number) {\n    let body = { date: date };\n    return this.http.post<ApiResponse<any>>(\n      environment.url +\n        Defines.TRANSFER_ENDPOINTS.REPORT_SERVICE +\n        Defines.TRANSFER_ENDPOINTS.TRANSFER_ADJUSTMENT +\n        Defines.TRANSFER_ENDPOINTS.AGGREGATION_DATA +\n        Defines.CRUD.GET_ALL,\n      body\n    );\n  }\n\n  updateTransferAdjustment(data: Transfer[]) {\n    let body = { addTransferAdjustmentRequests: data };\n    return this.http.post<ApiResponse<any>>(\n      environment.url +\n        Defines.TRANSFER_ENDPOINTS.REPORT_SERVICE +\n        Defines.TRANSFER_ENDPOINTS.TRANSFER_ADJUSTMENT +\n        Defines.TRANSFER_ENDPOINTS.AGGREGATION_DATA +\n        Defines.CRUD.ADD,\n      body\n    );\n  }\n}\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { BehaviorSubject, tap } from 'rxjs';\r\nimport { DialogData } from 'src/app/shared/models/dialog.model';\r\nimport { ApiResponse } from 'src/app/shared/statics/apiResponse';\r\nimport { Defines } from 'src/app/shared/statics/defines';\r\nimport { environment } from 'src/environments/environment';\r\nimport { User } from '../models/user';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class UsersService {\r\n  pathUrl: string =\r\n    environment.url +\r\n    Defines.USERS_ENDPOINTS.USERS_MANAGEMENT_PATH +\r\n    Defines.USERS_ENDPOINTS.USER;\r\n  openDialog: boolean = false;\r\n  dialogConfig!: DialogData;\r\n  private usersList = new BehaviorSubject<User[]>([]);\r\n  constructor(private http: HttpClient) {}\r\n\r\n  get usersList$() {\r\n    return this.usersList.asObservable();\r\n  }\r\n\r\n  openUserDialog(id?: number, viewMode?: boolean) {\r\n    this.openDialog = true;\r\n    let header = viewMode ? 'View Details' : 'Edit User';\r\n    this.dialogConfig = {\r\n      header: id ? header : 'New User',\r\n      name: 'user-management',\r\n      icon: 'icon icon-user',\r\n      view:viewMode,\r\n      inputs: [\r\n        {\r\n          label: 'Display Name',\r\n          element: 'input',\r\n          type: 'text',\r\n          fieldId: 'name',\r\n          required: id ? false : true,\r\n        },\r\n        {\r\n          label: 'Username',\r\n          element: 'input',\r\n          type: 'text',\r\n          fieldId: 'username',\r\n          required: id ? false : true,\r\n        },\r\n        {\r\n          label: 'User Profile',\r\n          element: 'dropdown',\r\n          type: 'singleSelect',\r\n          fieldId: 'profileId',\r\n          required: id ? false : true,\r\n        },\r\n      ],\r\n      buttons: [\r\n        {\r\n          label: id ? 'Update' : 'Create',\r\n          type: 'submit',\r\n        },\r\n        {\r\n          label: 'Cancel',\r\n          type: 'reset',\r\n        },\r\n      ],\r\n      id: id,\r\n    };\r\n  }\r\n\r\n  public getUsersList() {\r\n    let pathUrl = this.pathUrl + Defines.CRUD.GET_ALL;\r\n    return this.http\r\n      .post<ApiResponse<User[]>>(pathUrl, '')\r\n      .pipe(\r\n        tap((resp) => {\r\n          resp.payload?.users.map((user:any)=>{\r\n            user.profileName = user.profileModel.name;\r\n          })\r\n          this.usersList.next(resp.payload?.users);\r\n        })\r\n      )\r\n      .subscribe();\r\n  }\r\n\r\n  public addUser(user: User) {\r\n    let pathUrl = this.pathUrl + Defines.CRUD.ADD;\r\n    return this.http\r\n      .post<ApiResponse<User[]>>(pathUrl, { ...user, lockFlag: 0 })\r\n      .pipe(\r\n        tap((resp) => {\r\n          this.getUsersList();\r\n        })\r\n      )\r\n      .subscribe();\r\n  }\r\n\r\n  public updateUser(user: User) {\r\n    let pathUrl = this.pathUrl + Defines.CRUD.UPDATE;\r\n    return this.http\r\n      .post<ApiResponse<any>>(pathUrl, user)\r\n      .pipe(\r\n        tap((resp) => {\r\n          console.log(resp);\r\n          this.getUsersList();\r\n        })\r\n      )\r\n      .subscribe();\r\n  }\r\n  public getUser(id: number) {\r\n    console.log(id);\r\n    let pathUrl = this.pathUrl + Defines.CRUD.GET;\r\n    return this.http.post<ApiResponse<any>>(pathUrl, { userId: id });\r\n  }\r\n  public deleteUser(id: number) {\r\n    let pathUrl = this.pathUrl + Defines.CRUD.DELETE;\r\n    return this.http\r\n      .post<ApiResponse<any>>(pathUrl, { userId: id })\r\n      .pipe(\r\n        tap((resp) => {\r\n          console.log(resp);\r\n          this.getUsersList();\r\n        })\r\n      )\r\n      .subscribe();\r\n  }\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable, OnDestroy } from '@angular/core';\r\nimport { Subject, Subscription } from 'rxjs';\r\nimport { ApiResponse } from 'src/app/shared/statics/apiResponse';\r\nimport { Defines } from 'src/app/shared/statics/defines';\r\nimport { environment } from 'src/environments/environment';\r\nimport { AggregationData } from '../models/aggregation-data.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ValidationService {\r\n  updateBalance = new Subject<object>();\r\n  pathUrl: string =\r\n    environment.url +\r\n    Defines.VALIDATION_ENDPOINTS.REPORT_SERVICE +\r\n    Defines.VALIDATION_ENDPOINTS.VALIDATION_ENGINE;\r\n  constructor(private http: HttpClient) {}\r\n  public getvalidationList(epochDate: number) {\r\n    let pathUrl =\r\n      this.pathUrl +\r\n      Defines.VALIDATION_ENDPOINTS.AGGREGATION_DATA +\r\n      Defines.CRUD.GET_ALL;\r\n    return this.http.post<ApiResponse<AggregationData[]>>(pathUrl, {\r\n      date: epochDate,\r\n    });\r\n  }\r\n  public retrieveBalance(epochDate: number) {\r\n    let pathUrl =\r\n      this.pathUrl +\r\n      Defines.VALIDATION_ENDPOINTS.BALANCES +\r\n      Defines.CRUD.GET_ALL;\r\n    return this.http.post<ApiResponse<any>>(pathUrl, {\r\n      date: epochDate,\r\n    });\r\n  }\r\n  public submitData(data: AggregationData[]) {\r\n    let pathUrl = this.pathUrl + Defines.CRUD.UPDATE;\r\n    return this.http.post<ApiResponse<any>>(pathUrl, {\r\n      aggregationLists: data,\r\n    });\r\n  }\r\n  public retrieveTransactionTypes() {\r\n    let pathUrl =\r\n      this.pathUrl +\r\n      Defines.VALIDATION_ENDPOINTS.TRANSACTION_TYPE +\r\n      Defines.CRUD.GET_ALL;\r\n    return this.http.get<ApiResponse<any>>(pathUrl, {});\r\n  }\r\n  public getMAxMinRatePlans(epochDate: number) {\r\n    let pathUrl =\r\n      environment.url +\r\n      Defines.VALIDATION_ENDPOINTS.REPORT_SERVICE +\r\n      Defines.VALIDATION_ENDPOINTS.DASH_BOARD +\r\n      Defines.VALIDATION_ENDPOINTS.AGGREGATION_DATA +\r\n      Defines.CRUD.GET;\r\n    return this.http.post<ApiResponse<any>>(pathUrl, {\r\n      date: epochDate,\r\n    });\r\n  }\r\n}\r\n"]}